(()=>{"use strict";var n={740:(n,t,e)=>{e.d(t,{Z:()=>d});var l=e(81),r=e.n(l),o=e(645),i=e.n(o),a=e(667),u=e.n(a),s=new URL(e(919),e.b),c=i()(r()),p=u()(s);c.push([n.id,"* {\n  padding: 0;\n  margin: 0;\n  box-sizing: border-box;\n  font-family: 'Kdam Thmor Pro', 'Ubuntu', 'Roboto', -apple-system,\n    BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,\n    'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';\n}\n\nbody {\n  display: grid;\n  grid-template-rows: auto 1fr;\n  width: 100vw;\n  height: 100vh;\n  align-items: center;\n  justify-items: center;\n}\n\nheader > h1 {\n  letter-spacing: 2px;\n}\n\n.game {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns: 1fr min-content 1fr;\n  align-content: center;\n}\n\n.game > section {\n  height: 100%;\n}\n\nfooter > h5 > a {\n  color: black;\n}\n\n.half {\n  height: 100%;\n  display: grid;\n  align-items: center;\n  justify-content: center;\n  align-content: center;\n}\n\n.board {\n  display: grid;\n  grid-template-columns: repeat(10, min-content);\n  border-top: 1px solid #0000005e;\n  border-left: 1px solid #0000005e;\n  width: fit-content;\n}\n\n.square {\n  height: 47px;\n  width: 47px;\n  border-bottom: 1px solid #0000005e;\n  border-right: 1px solid #0000005e;\n}\n\n.controls {\n  display: grid;\n  justify-content: space-between;\n  grid-template-columns: 1fr 1fr;\n  justify-items: stretch;\n}\n\n.randomize {\n  cursor: pointer;\n  color: #005eb1;\n  user-select: none;\n  text-align: end;\n}\n\n.disableRandomize {\n  cursor: not-allowed;\n  color: rgb(0 94 177 / 30%) !important;\n}\n\n.hit {\n  background-color: #ff000061;\n  background-image: url("+p+");\n  background-repeat: no-repeat;\n  background-position: center;\n}\n\n.half:first-child > .board > .hit {\n  background-color: #64112454 !important;\n  background-image: url("+p+");\n  background-repeat: no-repeat;\n  background-position: center;\n}\n.half:last-child > .board {\n  cursor: crosshair;\n}\n\n.miss {\n  background-color: #0c202661;\n}\n\n.pad {\n  visibility: hidden;\n}\n\n.gameControls > button {\n  cursor: pointer;\n  width: 96px;\n  border: none;\n  height: 32px;\n  font-size: 13px;\n}\n\n.gameControls > button:disabled {\n  cursor: not-allowed;\n}\n\n.gameControls > button:hover {\n  width: 96px;\n  border: none;\n  height: 32px;\n  font-size: 12px;\n  background-color: #b4b4b4;\n}\n\n.gameControls > button:active {\n  width: 96px;\n  border: none;\n  height: 32px;\n  font-size: 11px;\n  background-color: #f7f7f7;\n}\n\n.ship {\n  background-color: #507493;\n  cursor: pointer;\n}\n\n.winner > h1 {\n  font-size: 24px;\n}\n\n#opponent > .hit:hover {\n  background-color: #ff000061 !important;\n}\n#opponent > .miss:hover {\n  background-color: rgba(205, 92, 92, 0.5) !important;\n}\n#opponent > .square:hover {\n  background-color: rgba(144, 238, 144, 0.5);\n}\n\nh6 {\n  opacity: 60%;\n}\n",""]);const d=c},645:n=>{n.exports=function(n){var t=[];return t.toString=function(){return this.map((function(t){var e="",l=void 0!==t[5];return t[4]&&(e+="@supports (".concat(t[4],") {")),t[2]&&(e+="@media ".concat(t[2]," {")),l&&(e+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),e+=n(t),l&&(e+="}"),t[2]&&(e+="}"),t[4]&&(e+="}"),e})).join("")},t.i=function(n,e,l,r,o){"string"==typeof n&&(n=[[null,n,void 0]]);var i={};if(l)for(var a=0;a<this.length;a++){var u=this[a][0];null!=u&&(i[u]=!0)}for(var s=0;s<n.length;s++){var c=[].concat(n[s]);l&&i[c[0]]||(void 0!==o&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=o),e&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=e):c[2]=e),r&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=r):c[4]="".concat(r)),t.push(c))}},t}},667:n=>{n.exports=function(n,t){return t||(t={}),n?(n=String(n.__esModule?n.default:n),/^['"].*['"]$/.test(n)&&(n=n.slice(1,-1)),t.hash&&(n+=t.hash),/["'() \t\n]|(%20)/.test(n)||t.needQuotes?'"'.concat(n.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):n):n}},81:n=>{n.exports=function(n){return n[1]}},379:n=>{var t=[];function e(n){for(var e=-1,l=0;l<t.length;l++)if(t[l].identifier===n){e=l;break}return e}function l(n,l){for(var o={},i=[],a=0;a<n.length;a++){var u=n[a],s=l.base?u[0]+l.base:u[0],c=o[s]||0,p="".concat(s," ").concat(c);o[s]=c+1;var d=e(p),f={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==d)t[d].references++,t[d].updater(f);else{var h=r(f,l);l.byIndex=a,t.splice(a,0,{identifier:p,updater:h,references:1})}i.push(p)}return i}function r(n,t){var e=t.domAPI(t);return e.update(n),function(t){if(t){if(t.css===n.css&&t.media===n.media&&t.sourceMap===n.sourceMap&&t.supports===n.supports&&t.layer===n.layer)return;e.update(n=t)}else e.remove()}}n.exports=function(n,r){var o=l(n=n||[],r=r||{});return function(n){n=n||[];for(var i=0;i<o.length;i++){var a=e(o[i]);t[a].references--}for(var u=l(n,r),s=0;s<o.length;s++){var c=e(o[s]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}o=u}}},569:n=>{var t={};n.exports=function(n,e){var l=function(n){if(void 0===t[n]){var e=document.querySelector(n);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(n){e=null}t[n]=e}return t[n]}(n);if(!l)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");l.appendChild(e)}},216:n=>{n.exports=function(n){var t=document.createElement("style");return n.setAttributes(t,n.attributes),n.insert(t,n.options),t}},565:(n,t,e)=>{n.exports=function(n){var t=e.nc;t&&n.setAttribute("nonce",t)}},795:n=>{n.exports=function(n){var t=n.insertStyleElement(n);return{update:function(e){!function(n,t,e){var l="";e.supports&&(l+="@supports (".concat(e.supports,") {")),e.media&&(l+="@media ".concat(e.media," {"));var r=void 0!==e.layer;r&&(l+="@layer".concat(e.layer.length>0?" ".concat(e.layer):""," {")),l+=e.css,r&&(l+="}"),e.media&&(l+="}"),e.supports&&(l+="}");var o=e.sourceMap;o&&"undefined"!=typeof btoa&&(l+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(l,n,t.options)}(t,n,e)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(t)}}}},589:n=>{n.exports=function(n,t){if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}},919:(n,t,e)=>{n.exports=e.p+"8092cc16e4664a056bc0.png"}},t={};function e(l){var r=t[l];if(void 0!==r)return r.exports;var o=t[l]={id:l,exports:{}};return n[l](o,o.exports,e),o.exports}e.m=n,e.n=n=>{var t=n&&n.__esModule?()=>n.default:()=>n;return e.d(t,{a:t}),t},e.d=(n,t)=>{for(var l in t)e.o(t,l)&&!e.o(n,l)&&Object.defineProperty(n,l,{enumerable:!0,get:t[l]})},e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),e.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t),(()=>{var n;e.g.importScripts&&(n=e.g.location+"");var t=e.g.document;if(!n&&t&&(t.currentScript&&(n=t.currentScript.src),!n)){var l=t.getElementsByTagName("script");l.length&&(n=l[l.length-1].src)}if(!n)throw new Error("Automatic publicPath is not supported in this browser");n=n.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=n})(),e.b=document.baseURI||self.location.href,e.nc=void 0,(()=>{var n=e(379),t=e.n(n),l=e(795),r=e.n(l),o=e(569),i=e.n(o),a=e(565),u=e.n(a),s=e(216),c=e.n(s),p=e(589),d=e.n(p),f=e(740),h={};h.styleTagTransform=d(),h.setAttributes=u(),h.insert=i().bind(null,"head"),h.domAPI=r(),h.insertStyleElement=c(),t()(f.Z,h),f.Z&&f.Z.locals&&f.Z.locals;const m=function(n,t){for(var e=0;e<10;e+=1)for(var l=0;l<10;l+=1)!0===n.map.layout[e][l]&&t.children.item(10*e+l).classList.add("hit"),!1===n.map.layout[e][l]&&t.children.item(10*e+l).classList.add("miss")};function y(n,t){return!1!==n.map.layout[t[0]][t[1]]&&!0!==n.map.layout[t[0]][t[1]]}const v=function(n){var t=document.querySelector(".board");t.childNodes.forEach((function(n){for(var t=n;t.classList.length>1;)t.classList.remove(t.classList[t.classList.length-1]);t.draggable=!1,t.ondragstart=null}));for(var e=0;e<10;e+=1)for(var l=0;l<10;l+=1)"number"==typeof n.map.layout[e][l]&&(t.children.item(10*e+l).classList.add("ship"),C(n.map.layout[e][l],n,t,e,l))};function g(n){return Array.prototype.indexOf.call(n.parentNode.children,n)}const b=function(n,t,e,l,r,o){var i=0,a=0,u=document.querySelectorAll(".square"),s=t,c=function(){};n&&(s.ondragstart=function(n){n.dataTransfer.setDragImage(e,24,24),u.forEach((function(n){var t=n;t.ondragenter=function(n){n.preventDefault();var e=g(t);i=Math.floor(e/10),a=e%10,c=function(){r.map.positionShip(r.map.ships[o],[i,a])}}}))}),n||(s.ondragstart=function(n){n.dataTransfer.setDragImage(l,24,24),u.forEach((function(n){var t=n;t.ondragenter=function(n){n.preventDefault();var e=g(t);i=Math.floor(e/10),a=e%10,c=function(){r.map.positionShip(r.map.ships[o],[i,a])}}}))}),s.ondragend=function(){c(),v(r)}},w=e.p+"83f4afd79ec62632035e.png",k=e.p+"93023f11cad2c34fdd21.png",S=e.p+"7779b2c1016fc90adfe5.png",x=e.p+"d33e8252f4fc62932534.png",P=e.p+"4206a7bcc6ff835f4d2c.png",E=e.p+"47f9460608c98e5492e9.png",A=e.p+"da76bb7bbb3d31c58884.png",M=e.p+"562f6fb197f5f461276f.png",O=e.p+"4206a7bcc6ff835f4d2c.png",z=e.p+"47f9460608c98e5492e9.png",C=function(n,t,e,l,r){for(var o=[S,w,P,O,A],i=[x,k,E,z,M],a=l,u=r,s=e,c=["carrier","battleship","cruiser","submarine","destroyer"],p=0;p<5;p+=1)n===p&&function(){var e=document.createElement("img");e.src=o[p];var l=document.createElement("img");l.src=i[p];var r=n,d=t.map.ships[r].orientation;s.children.item(10*a+u).classList.add(c[p]),s.children.item(10*a+u).draggable=!0,b(d,s.children.item(10*a+u),e,l,t,r),s.children.item(10*a+u).onclick=function(){t.map.rotateShip(t.map.ships[r]),v(t)}}()},q=function(n){var t=document.querySelector(".board");n.randomlyPlaceShips(),t.childNodes.forEach((function(n){for(var t=n;t.classList.length>1;)t.classList.remove(t.classList[t.classList.length-1]);t.draggable=!1,t.ondragstart=null,t.onclick=null}));for(var e=0;e<10;e+=1)for(var l=0;l<10;l+=1)"number"==typeof n.map.layout[e][l]&&(t.children.item(10*e+l).classList.add("ship"),C(n.map.layout[e][l],n,t,e,l))},L=function(n,t){var e=document.querySelector(".board");t.randomlyPlaceShips(),t.randomlyPlaceShips(),n.randomlyPlaceShips();for(var l=0;l<10;l+=1)for(var r=0;r<10;r+=1)"number"==typeof n.map.layout[l][r]&&(e.children.item(10*l+r).classList.add("ship"),C(n.map.layout[l][r],n,e,l,r))};function N(n,t){for(var e=0;e<t.length;e++){var l=t[e];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(n,l.key,l)}}const j=function(){function n(t,e){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.size=t,this.id=e,this.orientation=!0,this.originPosition=[0,0],this.gridPositions=[]}var t,e;return t=n,(e=[{key:"changeOrientation",value:function(){this.orientation=!this.orientation,this.move(this.originPosition[0],this.originPosition[1])}},{key:"move",value:function(n,t){var e=n,l=t;if(this.orientation){l>10-this.size&&(l=10-this.size);for(var r=[],o=0;o<this.size;o+=1)r.push([e,l+o]);return this.gridPositions=r,this.originPosition=[e,l],r}if(!this.orientation){e>10-this.size&&(e=10-this.size);for(var i=[],a=0;a<this.size;a+=1)i.push([e+a,l]);return this.gridPositions=i,this.originPosition=[e,l],i}}},{key:"foresight",value:function(n,t){var e=n,l=t;if(this.orientation){l>10-this.size&&(l=10-this.size);for(var r=[],o=0;o<this.size;o+=1)r.push([e,l+o]);return r}if(!this.orientation){e>10-this.size&&(e=10-this.size);for(var i=[],a=0;a<this.size;a+=1)i.push([e+a,l]);return i}}}])&&N(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),n}();function T(n,t){for(var e=0;e<t.length;e++){var l=t[e];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(n,l.key,l)}}const I=function(){function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.layout=[[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null]];var t=new j(5,0),e=new j(4,1),l=new j(3,2),r=new j(3,3),o=new j(2,4);this.ships=[t,e,l,r,o]}var t,e;return t=n,(e=[{key:"cloneMap",value:function(n){return JSON.parse(JSON.stringify(this.layout)).map((function(t){return t.map((function(t){var e=t;if(t===n.id&&(e=null),Array.isArray(e)&&e.includes(n.id)){var l=e.indexOf(n.id);-1!==l&&e.splice(l,1)}return Array.isArray(e)&&(e.length||(e=null)),e}))}))}},{key:"verifyPlacement",value:function(n,t,e){var l=!0;return n.foresight(t[0],t[1]).forEach((function(n){var t=n[0],r=n[1];null!==e[t][r]&&(l=!1)})),l}},{key:"positionShip",value:function(n,t){var e=this,l=this.cloneMap(n);if(this.verifyPlacement(n,t,l)){this.layout=JSON.parse(JSON.stringify(l)),n.move(t[0],t[1]),n.gridPositions.forEach((function(t){var l=t[0],r=t[1];e.layout[l][r]=n.id}));for(var r=n.gridPositions[0][0]-1,o=n.gridPositions[0][1]-1,i=n.gridPositions[n.gridPositions.length-1][0]+1,a=n.gridPositions[n.gridPositions.length-1][1]+1,u=r;u<=i;u+=1)for(var s=o;s<=a;s+=1)u>=0&&u<10&&s>=0&&s<10&&(Array.isArray(this.layout[u][s])&&this.layout[u][s].push(n.id),null===this.layout[u][s]&&(this.layout[u][s]=[n.id]))}}},{key:"rotateShip",value:function(n){var t=this.cloneMap(n);n.changeOrientation(),this.verifyPlacement(n,n.originPosition,t)?this.positionShip(n,n.originPosition):n.changeOrientation()}},{key:"receiveAttack",value:function(n){if(null===this.layout[n[0]][n[1]]||Array.isArray(this.layout[n[0]][n[1]]))this.layout[n[0]][n[1]]=!1;else{var t;Number.isNaN(this.layout[n[0]][n[1]])||(t=this.layout[n[0]][n[1]],this.layout[n[0]][n[1]]=!0);for(var e=!0,l=0;l<10;l+=1)for(var r=0;r<10;r+=1)this.layout[l][r]===t&&(e=!1);if(e)for(var o=0;o<10;o+=1)for(var i=0;i<10;i+=1)Array.isArray(this.layout[o][i])&&this.layout[o][i].includes(t)&&(this.layout[o][i]=!1)}}},{key:"allShipsDestroyed",value:function(){for(var n=0,t=0;t<10;t+=1)for(var e=0;e<10;e+=1)!0===this.layout[t][e]&&(n+=1);return 17===n}},{key:"resetMap",value:function(){this.layout=[[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null]]}}])&&T(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),n}();function R(n,t){for(var e=0;e<t.length;e++){var l=t[e];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(n,l.key,l)}}const D=function(){function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.map=new I,this.opponent=null}var t,e;return t=n,(e=[{key:"designateOpponent",value:function(n){this.opponent=n}},{key:"attack",value:function(n){this.opponent.map.receiveAttack(n)}},{key:"allShipsPlaced",value:function(){for(var n=this.map.layout,t=[0,1,2,3,4],e=0;e<10;e+=1)for(var l=0;l<10;l+=1)if(!Number.isNaN(n[e][l])&&t.includes(n[e][l])){var r=t.indexOf(n[e][l]);-1!==r&&t.splice(r,1)}return!(t.length>0)}},{key:"randomlyPlaceShips",value:function(){for(var n=[0,1,2,3,4];n.length>0;)for(var t=this.map.layout,e=!0;e;){var l=[Math.floor(10*Math.random()),Math.floor(10*Math.random())],r=this.map.ships[n[0]];this.map.verifyPlacement(r,l,t)&&(this.map.positionShip(r,l),n.shift(),e=!1),this.map.verifyPlacement(r,l,t)||(r.changeOrientation(),this.map.verifyPlacement(r,l,t)&&(this.map.positionShip(r,l),n.shift(),e=!1))}}}])&&R(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),n}();document.querySelectorAll(".board").forEach((function(n){for(var t=0;t<100;t+=1)n.appendChild((e=void 0,(e=document.createElement("div")).classList.add("square"),e));var e}));var U=new D,J=new D,Z=document.querySelector("#opponent"),F=document.querySelector(".board");window.onload=function(){return L(J,U)},U.designateOpponent(J),J.designateOpponent(U);var $=document.querySelector("#start"),_=document.querySelector("#reset");_.disabled=!0;var H=document.querySelector(".randomize"),B=document.querySelector(".winner");Z.style.opacity="30%",$.onclick=function(){document.querySelectorAll(".ship").forEach((function(n){var t=n;t.ondragstart=null,t.ondragend=null,t.draggable=!1})),document.querySelectorAll(".square").forEach((function(n){n.ondragenter=null})),$.disabled=!0,_.disabled=!1,Z.style.opacity="100%",H.onclick=null,H.classList.add("disableRandomize"),Z.onclick=function(n){var t=n.target.closest(".square");if(t&&null!==t){if(function(n,t,e,l,r){var o,i=(o=r,Array.prototype.indexOf.call(o.parentNode.children,o)),a=Math.floor(i/10),u=i%10;if(y(t,[a,u])){n.attack([a,u]);for(var s=!0;s;){var c=Math.floor(10*Math.random()),p=Math.floor(10*Math.random());y(n,[c,p])&&(t.attack([c,p]),s=!1)}}m(t,l),m(n,e)}(J,U,F,Z,t),U.map.allShipsDestroyed()){Z.onclick=null,Z.style.opacity="30%",F.style.opacity="30%";var e=document.createElement("h1");e.textContent="Player1 won",B.appendChild(e)}if(J.map.allShipsDestroyed()){Z.onclick=null,Z.style.opacity="30%",F.style.opacity="30%";var l=document.createElement("h1");l.textContent="Albert won",B.appendChild(l)}}}},_.onclick=function(){B.firstElementChild&&B.firstElementChild.remove(),_.disabled=!0,$.disabled=!1,F.style.opacity="100%",Z.onclick=null,Z.style.opacity="30%",J.map.resetMap(),U.map.resetMap(),document.querySelectorAll(".board").forEach((function(n){for(var t=0;t<10;t+=1)for(var e=0;e<10;e+=1)n.children.item(10*t+e).removeAttribute("class"),n.children.item(10*t+e).classList.add("square")})),L(J,U),H.onclick=function(){q(J)},H.classList.remove("disableRandomize")},H.onclick=function(){q(J)}})()})();